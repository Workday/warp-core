group = 'com.workday.warp'

/**
 * Thrown when an unsupported scala version is being used.
 */
class UnsupportedScalaVersionException extends RuntimeException {
    UnsupportedScalaVersionException(String message, Throwable cause) {
        super(message, cause)
    }

    UnsupportedScalaVersionException(String message) {
        super(message)
    }
}


/**
 * Determines the gatling version we should use.
 *
 * This is a function of the scala version we are currently building with.
 *
 * @return version of the gatling library that we should depend on.
 */
def gatlingVersion() {
    String scalaSuffix = project.findProperty("scalaSuffix")

    if (scalaSuffix == '_2.11') return '2.2.5'
    else if (scalaSuffix == '_2.12') return '2.3.1'
    else throw new UnsupportedScalaVersionException("$scalaSuffix is not a supported scala version suffix".toString())
}



// dependency versions, keep in alphabetical order
// please declare your dependencies using the following syntax:
//   compile "com.h2database:h2:${versions.h2}"
// don't include paren, and don't use the longer syntax like:
//   compile group: 'com.h2database', name: 'h2', version: "${versions.h2}"
project.ext.versions = [
    asciiDoctor: '0.1.4'
    , asm: '5.0.3'
    , checkstyle: '8.11'
    , commonsCodec: '1.6'
    , commonsConfiguration: '1.9'
    , commonsIo: '2.4'
    , commonsLang3: '3.4'
    , coveralls: '2.8.2'
    , dispatch: '0.13.0'
    , flyway: '5.1.1'
    , freemarker: '2.3.19'
    // gatling 2.2.5 uses scala 2.11.x, while 2.3.1 uses scala 2.12.x
    , gatling: gatlingVersion()
    , gradleGit: '1.7.2'
    , gradleScoverage: '2.3.0'
    , groovyHttpBuilder: '0.7.2'
    , guava: '25.1-jre'
    , guice: '4.1.0'
    , gson: '2.8.0'
    , h2: '1.4.191'
    , hamcrest: '1.3'
    , influxDbClient: '2.5'
    , jacksonDataBind: '2.7.4'
    , jbake: '1.0.0'
    , json4s: '3.4.2'
    , junit: '4.12'
    , math3: '3.5'
    , mysqlConnector: '5.1.46'
    , nebulaDependencyLock: '5.0.0'
    , nebulaGit: '3.0.1'
    , nebulaRelease: '6.3.5'
    , nebulaPublish: '8.2.0'
    , pegdown: '1.4.2'
    , reflections: '0.9.10'
    , scalalang: '2.11.5'
    , scalaMultiversion: '1.+'
    , scalatest: '3.0.0'
    , scalaStyle: '0.8.2'
    , scalacScoverage: '1.3.1'
    , simpleJmx: '1.15'
    , slf4jBinding: '1.3.5'
    , slick: '3.2.0'
    , tinylog: '1.1'
]
